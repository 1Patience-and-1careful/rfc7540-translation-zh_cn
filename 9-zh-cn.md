# 9. 其他HTTP要求/注意事项

这部分概述了`HTTP`协议的属性，包括提高互通性、 减少暴露已知的安全漏洞或者减少执行变异的可能。

## 9.1 连接管理

`HTTP/2`的连接是持久性的。 为了获得最佳的性能，在确定与服务器没有进一步的连接必要之前客户端将不会关闭连接（例如：当用户导航到其他特定的网页时这个连接就会关闭），或者直到服务器端关闭连接之前。

客户端不应该给一个给定的主机和端口号打开多个`HTTP/2`连接，其中主机是从一个确定的`URL`衍生，a selected alternative service [ALT-SVC], 或者配置的代理。

客户端可以创建额外的连接作为替代，或者取代快要耗尽的可用流标识符空间（[参见：Section 5.1.1](http://tools.ietf.org/html/rfc7540#section-5.1.1))，或者为`TLS`连接刷新密钥，或者替换遇到的错误连接（[参见: Section 5.4.1](http://tools.ietf.org/html/rfc7540#section-5.4.1)）。

一个客户端可以针对相同的`IP`地址和`TCP`端口号用不同的服务器端名称标识符或者用不同的`TCL`客户端证书创建多个连接，但是应该避免用相同的配置创建多个连接。

服务器端被鼓励尽可能长时间的保持打开的连接，但是在必要的情况下要关闭空余的连接。当任意一个端口选择关闭传输层的`TCP`连接时，决定关闭的终端应该首先发送一个超时帧，这样两个终端都能可靠的确定之前发送的帧是否已经被处理、“优雅”的完成或者终止任何剩余的必要任务。

### 9.1.1 连接复用

连接到源服务器的连接，无论是直接或者通过由`CONNECT`方法([参见： Section 8.3](http://tools.ietf.org/html/rfc7540#section-8.3))建立的隧道连接,都可能重复使用于多个不同`URL`权限请求组件。只要源服务器是权威的，连接就可以被复用（[参见： Section 10.1](http://tools.ietf.org/html/rfc7540#section-10.1)）。对于没有`TLS`的`TCP`连接，这取决于对同一个`IP`地址已经解析的主机端。

对于`HTTP`资源，连接复用还额外取决于是否拥有一个对于`URL`中的主机已经验证过的证书。该证书由服务器提供并且必须满足这种形式的检查，即在`URL`主机中形成一个新的`TLS`连接时客户端将执行任何检查。

源服务器可能提供一个拥有多个`subjectAltName`属性或者通配符的证书，其中之一是有效授权的`URL`。例如：一个带有`*.example.com`的`subjectAltName`证书将允许`a.example.com`和`b.example.com`使用同一个连接。

### 9.1.2 421（误导请求）状态码

421（误导请求）状态码标识的是一个不能够产生响应的服务器请求。这个状态码可能会在服务器没有为产生经过计划和认证的响应进行相关的配置的时候产生。

客户端接收到服务器端发送的421(误导请求)响应可以通过不同的连接重试请求——不管这个请求方式是不是幂等的。这个连接可能是复用的（参见：[Section 9.1.1](https://tools.ietf.org/html/rfc7540#section-9.1.1)），或者可选的服务被选择([参见 ALT-SVC](https://tools.ietf.org/html/rfc7540#ref-ALT-SVC))。

这个状态码绝对不能由代理端产生。

421的响应缓存是默认的。除非被定义的方法或者显式缓存控制另有说明

## 9.2 使用TLS功能

### 9.2.1 TLS1.2功能

### 9.2.2 TLS1.2加密套件

